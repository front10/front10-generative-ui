import n,{createContext,useContext,useState,useRef,useMemo,useEffect}from'react';import {jsx,Fragment}from'react/jsx-runtime';import {clsx}from'clsx';var d=createContext(null),o=()=>{let e=useContext(d);if(!e)throw new Error("useGenerativeUI must be used within a GenerativeUIProvider");return e},E=({children:e})=>{let[,r]=useState({}),p=useRef({}),I=u=>{let a={...p.current,[u.toolId]:u};p.current=a,r(a);},G=u=>{let{toolId:a,state:m,input:c,output:i,error:v,toolCallId:l}=u,t=p.current[a];if(!t)return n.createElement("div",{key:l,className:"p-4 border border-gray-200 rounded-lg bg-gray-50"},`Component not registered for tool: ${a}`);let s=`${l}-${m}`;switch(m){case "input-streaming":case "input-available":return t.LoadingComponent?n.createElement(t.LoadingComponent,{key:s,input:c}):null;case "output-available":return i&&typeof i=="object"&&"error"in i?t.ErrorComponent?n.createElement(t.ErrorComponent,{key:s,error:String(i.error),input:c}):n.createElement("div",{key:s,className:"text-red-500 p-2 border rounded"},`Error: ${String(i.error)}`):n.createElement(t.SuccessComponent,{key:s,output:i,input:c});case "output-error":return t.ErrorComponent?n.createElement(t.ErrorComponent,{key:s,error:v||"Unknown error occurred",input:c}):n.createElement("div",{key:s,className:"text-red-500 p-2 border rounded"},`Error: ${v||"Unknown error occurred"}`);default:return console.warn(`Unknown state: ${m} for tool: ${a}`),null}},C=useMemo(()=>({registerComponent:I,renderComponent:G}),[]);return jsx(d.Provider,{value:C,children:e})};var P=({components:e})=>{let{registerComponent:r}=o();return useEffect(()=>{e.forEach(p=>{r(p);});},[e,r]),null},b=e=>{let{registerComponent:r}=o();useEffect(()=>{r(e);},[e,r]);};var w=e=>{let{renderComponent:r}=o();return jsx(Fragment,{children:r(e)})},$=()=>{let{renderComponent:e}=o();return e};function S(...e){return clsx(...e)}export{E as GenerativeUIProvider,P as GenerativeUIRegistry,w as GenerativeUIRenderer,S as cn,o as useGenerativeUI,b as useRegisterGenerativeComponent,$ as useRenderGenerativeUI};//# sourceMappingURL=index.mjs.map
//# sourceMappingURL=index.mjs.map