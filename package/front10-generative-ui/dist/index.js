'use strict';var n=require('react'),jsxRuntime=require('react/jsx-runtime'),clsx=require('clsx');function _interopDefault(e){return e&&e.__esModule?e:{default:e}}var n__default=/*#__PURE__*/_interopDefault(n);var d=n.createContext(null),o=()=>{let e=n.useContext(d);if(!e)throw new Error("useGenerativeUI must be used within a GenerativeUIProvider");return e},E=({children:e})=>{let[,r]=n.useState({}),p=n.useRef({}),I=u=>{let a={...p.current,[u.toolId]:u};p.current=a,r(a);},G=u=>{let{toolId:a,state:m,input:c,output:i,error:v,toolCallId:l}=u,t=p.current[a];if(!t)return n__default.default.createElement("div",{key:l,className:"p-4 border border-gray-200 rounded-lg bg-gray-50"},`Component not registered for tool: ${a}`);let s=`${l}-${m}`;switch(m){case "input-streaming":case "input-available":return t.LoadingComponent?n__default.default.createElement(t.LoadingComponent,{key:s,input:c}):null;case "output-available":return i&&typeof i=="object"&&"error"in i?t.ErrorComponent?n__default.default.createElement(t.ErrorComponent,{key:s,error:String(i.error),input:c}):n__default.default.createElement("div",{key:s,className:"text-red-500 p-2 border rounded"},`Error: ${String(i.error)}`):n__default.default.createElement(t.SuccessComponent,{key:s,output:i,input:c});case "output-error":return t.ErrorComponent?n__default.default.createElement(t.ErrorComponent,{key:s,error:v||"Unknown error occurred",input:c}):n__default.default.createElement("div",{key:s,className:"text-red-500 p-2 border rounded"},`Error: ${v||"Unknown error occurred"}`);default:return console.warn(`Unknown state: ${m} for tool: ${a}`),null}},C=n.useMemo(()=>({registerComponent:I,renderComponent:G}),[]);return jsxRuntime.jsx(d.Provider,{value:C,children:e})};var P=({components:e})=>{let{registerComponent:r}=o();return n.useEffect(()=>{e.forEach(p=>{r(p);});},[e,r]),null},b=e=>{let{registerComponent:r}=o();n.useEffect(()=>{r(e);},[e,r]);};var w=e=>{let{renderComponent:r}=o();return jsxRuntime.jsx(jsxRuntime.Fragment,{children:r(e)})},$=()=>{let{renderComponent:e}=o();return e};function S(...e){return clsx.clsx(...e)}exports.GenerativeUIProvider=E;exports.GenerativeUIRegistry=P;exports.GenerativeUIRenderer=w;exports.cn=S;exports.useGenerativeUI=o;exports.useRegisterGenerativeComponent=b;exports.useRenderGenerativeUI=$;//# sourceMappingURL=index.js.map
//# sourceMappingURL=index.js.map